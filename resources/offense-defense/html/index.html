<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Online players overlay (always visible) -->
    <div id="online-bar">
        <div class="online-title">ONLINE</div>
        <div id="online-players"></div>
    </div>

    <!-- Minigames Browser (visible when not in game) -->
    <div id="minigames-browser" class="browser-collapsed">
        <div class="browser-title">MINIGAMES <span class="browser-toggle-hint">[M]</span></div>
        <div class="browser-list">
            <!-- Offense Defense -->
            <div class="game-card" id="game-od">
                <div class="game-header">
                    <span class="game-name">OFFENSE DEFENSE</span>
                    <span class="game-status" id="od-status">IDLE</span>
                </div>
                <div class="game-capacity" id="od-capacity">0/8</div>
                <div class="game-progress hidden" id="od-progress">
                    <div class="progress-label">CHECKPOINT</div>
                    <div class="progress-value" id="od-checkpoint">0/0</div>
                </div>
                <div class="game-players" id="od-players"></div>
                <div class="game-join" id="od-join"><span class="key">J</span> JOIN</div>
            </div>

            <!-- Running Back -->
            <div class="game-card" id="game-rb">
                <div class="game-header">
                    <span class="game-name">RUNNING BACK</span>
                    <span class="game-status" id="rb-status">IDLE</span>
                </div>
                <div class="game-capacity" id="rb-capacity">0/8</div>
                <div class="game-progress hidden" id="rb-progress">
                    <div class="progress-label">YARD LINE</div>
                    <div class="progress-value" id="rb-checkpoint">0/0</div>
                </div>
                <div class="game-players" id="rb-players"></div>
                <div class="game-join" id="rb-join"><span class="key">K</span> JOIN</div>
            </div>

            <!-- Sumo -->
            <div class="game-card" id="game-sumo">
                <div class="game-header">
                    <span class="game-name">SUMO</span>
                    <span class="game-status" id="sumo-status">IDLE</span>
                </div>
                <div class="game-capacity" id="sumo-capacity">0/8</div>
                <div class="game-progress hidden" id="sumo-progress">
                    <div class="progress-label">SCORE</div>
                    <div class="progress-value" id="sumo-checkpoint">0/0</div>
                </div>
                <div class="game-players" id="sumo-players"></div>
                <div class="game-join" id="sumo-join"><span class="key">L</span> JOIN</div>
            </div>
        </div>
    </div>

    <!-- Results overlay (shown after race) -->
    <div id="results" class="hidden">
        <div class="results-content">
            <div id="results-title" class="results-title">TEAM GREEN WINS!</div>
            <div id="results-change" class="results-change">+500</div>
            <div id="results-total" class="results-total">1500 POINTS</div>
        </div>
    </div>

    <!-- Lobby UI -->
    <div id="lobby" class="hidden">
        <div class="header">
            <h1>OFFENSE DEFENSE</h1>
            <div class="subtitle">Green vs Purple</div>
        </div>
        <div class="teams-container">
            <div class="team team-green">
                <div class="team-header">TEAM GREEN</div>
                <div class="team-count"><span id="green-count">0</span>/4</div>
                <div class="player-list" id="green-players"></div>
            </div>
            <div class="timer-container">
                <div id="timer" class="timer">--</div>
                <div id="timer-label" class="timer-label">WAITING FOR PLAYERS</div>
                <div id="pot-display" class="pot-display">
                    <div class="pot-label">JACKPOT PREVIEW</div>
                    <div id="pot-amount" class="pot-amount">0</div>
                    <div class="pot-details">
                        <div id="your-wager" class="your-wager">Your wager: 0</div>
                        <div id="your-winnings" class="your-winnings">If you win: +0</div>
                    </div>
                </div>
            </div>
            <div class="team team-purple">
                <div class="team-header">TEAM PURPLE</div>
                <div class="team-count"><span id="purple-count">0</span>/4</div>
                <div class="player-list" id="purple-players"></div>
            </div>
        </div>
        <div class="role-display">
            <div class="role-label">YOUR ROLE</div>
            <div id="role" class="role">RUNNER</div>
        </div>
        <div class="car-selection">
            <div class="car-label">SELECT VEHICLE</div>
            <div class="car-options" id="car-options"></div>
        </div>
        <div class="controls">
            <span class="key">G</span><span class="key">P</span> Team
            <span class="key">R</span><span class="key">B</span> Role
            <span class="key">A</span><span class="key">D</span> Car
            <span class="key">ENTER</span> Ready
            <span class="key">ESC</span> Leave
        </div>
    </div>
    
    <!-- Race HUD (during race) -->
    <div id="race-hud" class="hidden">
        <div id="round-score" class="round-score hidden">
            <span id="score-green" class="score-team green">0</span>
            <span class="score-dash">-</span>
            <span id="score-purple" class="score-team purple">0</span>
        </div>
        <div class="hud-positions">
            <div id="pos-1st" class="hud-position first">1ST <span class="team-name">GREEN</span></div>
            <div id="pos-2nd" class="hud-position second">2ND <span class="team-name">PURPLE</span></div>
        </div>
        <div class="hud-checkpoint">
            <div class="cp-label" id="cp-label">CHECKPOINT</div>
            <div id="cp-progress" class="cp-progress">0 / 37</div>
            <div id="cp-distance" class="cp-distance">250m</div>
        </div>
        <div class="hud-controls">
            <span class="key">HOLD E</span> Respawn
            <span class="key">TAB</span> Players
        </div>
        <div id="respawn-progress" class="respawn-progress hidden">
            <div class="respawn-bar"><div class="respawn-fill" id="respawn-fill"></div></div>
            <div class="respawn-text">RESPAWNING...</div>
        </div>
    </div>

    <!-- Race countdown -->
    <div id="race-countdown" class="hidden">
        <div class="race-countdown-number" id="countdown-number">3</div>
        <div class="race-countdown-text" id="countdown-text">GET READY</div>
    </div>
    
    <!-- Editor UI -->
    <div id="editor" class="hidden">
        <div class="editor-panel">
            <div class="editor-title" id="editor-title">RACE EDITOR</div>
            <div class="editor-info" id="editor-info">
                <div>Map: <span id="editor-map">untitled</span></div>
                <div>Checkpoints: <span id="editor-cp-count">0</span></div>
                <div>Lobby set: <span id="editor-lobby">NO</span></div>
                <div>Start grid: <span id="editor-grid">NO</span></div>
            </div>
            <div class="editor-controls" id="editor-controls">
                <div><span class="key">X</span> Add Checkpoint</div>
                <div><span class="key">E</span> Remove Last</div>
                <div><span class="key">H</span> Set Lobby Here</div>
                <div><span class="key">G</span> Set Start Grid</div>
                <div><span class="key">Z</span> Save Map</div>
                <div><span class="key">ESC</span> Exit Editor</div>
            </div>
        </div>
    </div>

    <!-- Round Result overlay (between RB rounds) -->
    <div id="round-result" class="hidden">
        <div class="round-result-content">
            <div id="round-result-title" class="round-result-title">TEAM GREEN SCORES!</div>
            <div id="round-result-score" class="round-result-score">0 - 0</div>
        </div>
    </div>
    
    <!-- Car Info HUD -->
    <div id="car-hud" class="hidden">
        <div class="car-name" id="car-name">LOADING...</div>
        <div class="car-speed"><span id="car-speed">0</span> <span class="speed-unit">MPH</span></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
